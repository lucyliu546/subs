{"ast":null,"code":"import _regeneratorRuntime from\"/mnt/c/Users/Lucy/Documents/projects/bakingsubsv2/subsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/mnt/c/Users/Lucy/Documents/projects/bakingsubsv2/subsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/mnt/c/Users/Lucy/Documents/projects/bakingsubsv2/subsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/mnt/c/Users/Lucy/Documents/projects/bakingsubsv2/subsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/mnt/c/Users/Lucy/Documents/projects/bakingsubsv2/subsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/mnt/c/Users/Lucy/Documents/projects/bakingsubsv2/subsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import List from'@material-ui/core/List';import ListItem from'@material-ui/core/ListItem';import ListItemText from'@material-ui/core/ListItemText';import LinearProgress from'@material-ui/core/LinearProgress';import SentimentDissatisfiedIcon from'@material-ui/icons/SentimentDissatisfied';import{withStyles,withTheme}from\"@material-ui/core\";import Button from\"@material-ui/core/Button\";/* eslint-disable */ /* Displays the substitution results at the bottom of the main page */var StyledBtn=withStyles({backgroundColor:'gray',root:{'& label.Mui-focused':{color:'gray'},'& .MuiInput-underline:after':{borderBottomColor:'#D9D9D9'},'& .MuiOutlinedInput-root':{'& fieldset':{borderColor:'white'},'&:hover fieldset':{borderColor:'white'},'&.Mui-focused fieldset':{borderColor:'#D9D9D9'}}}})(Button);var Results=/*#__PURE__*/function(_Component){_inherits(Results,_Component);var _super=_createSuper(Results);function Results(props){var _this;_classCallCheck(this,Results);_this=_super.call(this,props);_this.handleClick=function(){_this.setState({showAnyways:true});};_this.showAnywaysCheck=function(){_this.state.showAnyways;};_this.state={result:[],subslist:[],userIngredients:JSON.parse(localStorage.getItem('userPantry'))};return _this;}_createClass(Results,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(encodeURI(\"http://127.0.0.1:8000/api/subs/?format=json&subname=\".concat(this.props.ingredient.toString()))).then(function(response){var result=response.data;_this2.setState({result:result});},function(error){{alert(error);};});case 2:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"componentDidUpdate\",value:function(){var _componentDidUpdate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this3=this;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(this.state.result[0].subname!==this.props.ingredient)){_context2.next=3;break;}_context2.next=3;return axios.get(encodeURI(\"http://127.0.0.1:8000/api/subs/?format=json&subname=\".concat(this.props.ingredient.toString()))).then(function(response){var result=response.data;_this3.setState({result:result});},function(error){{alert(error);};});case 3:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidUpdate(){return _componentDidUpdate.apply(this,arguments);}return componentDidUpdate;}()},{key:\"render\",value:function render(){var _this4=this;if(this.state.result.length>0){var substlist=this.state.result[0].subslist;var ingredientList=Object.entries(substlist).map(function(t){return t[0];});var userHasIngrs=ingredientList.every(function(i){return _this4.state.userIngredients.includes(i);});}return this.state.result.length>0?userHasIngrs!==false||this.state.userIngredients.length===0||this.state.showAnyways?/*#__PURE__*/React.createElement(\"div\",{className:\"Results\"},/*#__PURE__*/React.createElement(\"div\",{className:\"List\"},/*#__PURE__*/React.createElement(List,null,Object.entries(substlist).map(function(t,k){return/*#__PURE__*/React.createElement(ListItem,{className:\"ListItem\"},/*#__PURE__*/React.createElement(ListItemText,{primary:t[0],secondary:(t[1]*_this4.props.amount).toFixed(2)+\" \"+_this4.props.unit}));})))):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{maxWidth:'775px',minWidth:'500px',width:'500px',marginTop:'50px',backgroundColor:'#ffd1df',display:'flex',justifyContent:'center',alignItems:'center',marginLeft:'auto',marginRight:'auto',borderRadius:'25px'}},/*#__PURE__*/React.createElement(\"h3\",{style:{color:'gray',fontSize:'22px',backgroundColor:'rgb(255,255,255, .5)',padding:'7px',marginTop:'auto',marginBottom:'auto',borderRadius:'25px'}},\"Your pantry does not have any of the substitute ingredients \\u2639 \",/*#__PURE__*/React.createElement(\"br\",null))),/*#__PURE__*/React.createElement(StyledBtn,{type:\"Submit\",onClick:this.handleClick,className:\"Submit\",style:{backgroundColor:'#DADADA',outline:'None',marginTop:'2px'}},\"Show results anyways\")):/*#__PURE__*/React.createElement(\"div\",{style:{maxWidth:'150px',marginLeft:'auto',marginRight:'auto',marginTop:'2%',height:'25px'}},/*#__PURE__*/React.createElement(LinearProgress,{color:\"secondary\"}),/*#__PURE__*/React.createElement(\"h2\",{style:{backgroundColor:'white',opacity:'0.7',padding:'2px',fontSize:'20px'}},\"Loading...\"));}}]);return Results;}(Component);export default Results;","map":{"version":3,"sources":["/mnt/c/Users/Lucy/Documents/projects/bakingsubsv2/subsfrontend/src/Results.js"],"names":["React","Component","axios","List","ListItem","ListItemText","LinearProgress","SentimentDissatisfiedIcon","withStyles","withTheme","Button","StyledBtn","backgroundColor","root","color","borderBottomColor","borderColor","Results","props","handleClick","setState","showAnyways","showAnywaysCheck","state","result","subslist","userIngredients","JSON","parse","localStorage","getItem","get","encodeURI","concat","ingredient","toString","then","response","data","error","alert","subname","length","substlist","ingredientList","Object","entries","map","t","userHasIngrs","every","i","includes","k","amount","toFixed","unit","maxWidth","minWidth","width","marginTop","display","justifyContent","alignItems","marginLeft","marginRight","borderRadius","fontSize","padding","marginBottom","outline","height","opacity"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport axios from \"axios\";\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport SentimentDissatisfiedIcon from '@material-ui/icons/SentimentDissatisfied'\r\nimport { withStyles, withTheme } from \"@material-ui/core\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\n/* eslint-disable */\r\n\r\n\r\n/* Displays the substitution results at the bottom of the main page */\r\n\r\n\r\nconst StyledBtn = withStyles({\r\n\tbackgroundColor: 'gray',\r\n    root: {\r\n\t\t\r\n        '& label.Mui-focused': {\r\n          color: 'gray',\r\n        },\r\n        '& .MuiInput-underline:after': {\r\n          borderBottomColor: '#D9D9D9',\r\n        },\r\n        '& .MuiOutlinedInput-root': {\r\n          '& fieldset': {\r\n            borderColor: 'white',\r\n          },\r\n          '&:hover fieldset': {\r\n            borderColor: 'white',\r\n          },\r\n          '&.Mui-focused fieldset': {\r\n            borderColor: '#D9D9D9',\r\n          },\r\n        }\r\n    }\r\n})(Button);\r\n\r\nclass Results extends Component {\r\n    constructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tresult: [],\r\n\t\t\tsubslist: [],\r\n\t\t\r\n\t\t\tuserIngredients: JSON.parse(localStorage.getItem('userPantry'))\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\tasync componentDidMount() {\r\n\t\tawait axios.get(encodeURI(\"http://127.0.0.1:8000/api/subs/?format=json&subname=\"\r\n\t\t.concat((this.props.ingredient).toString())\r\n\t\t\t)).then( \r\n        response => { \r\n\t\t\tvar result = response.data; \r\n\t\t\tthis.setState({ result: result })\r\n            }, \r\n            (error) => { \r\n            {alert(error)}; \r\n            } \r\n\t\t)\r\n\t\t} \r\n\t\r\n\tasync componentDidUpdate() {\r\n\t\tif (this.state.result[0].subname !== this.props.ingredient ){\r\n\t\tawait axios.get(encodeURI(\"http://127.0.0.1:8000/api/subs/?format=json&subname=\"\r\n\t\t.concat((this.props.ingredient).toString())\r\n\t\t\t)).then( \r\n        response => { \r\n\t\t\tvar result = response.data; \r\n\t\t\tthis.setState({ result: result })\r\n            }, \r\n            (error) => { \r\n            {alert(error)}; \r\n            } \r\n\t\t)\r\n\t\t} \r\n\t}\r\n\r\n\thandleClick = () => {\r\n\t\tthis.setState({\r\n\t\t\tshowAnyways: true\r\n\t\t})\r\n\t}\r\n\r\n\tshowAnywaysCheck = () => {\r\n\t\tthis.state.showAnyways\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.state.result.length > 0) {\r\n\t\t\tvar substlist = this.state.result[0].subslist\r\n\t\t\tconst ingredientList = Object.entries(substlist).map(t => t[0])\r\n\t\t\t\r\n\t\t\tvar userHasIngrs = ingredientList.every(i => this.state.userIngredients.includes(i))\r\n\t\t}\r\n\t\t\t\r\n\t\treturn(\r\n\t\t\t (this.state.result.length > 0) ? (\r\n\t\t\t\t(userHasIngrs !== false || this.state.userIngredients.length === 0 || this.state.showAnyways) ? (\r\n\t\t\t\t\t<div className=\"Results\">\r\n\t\t\t\t\t<div className=\"List\">\r\n\t\t\t\t\t\t<List>\r\n\t\t\t\t\t\t\t{Object.entries(substlist).map((t, k) => (\r\n\t\t\t\t\t\t\t<ListItem className=\"ListItem\">\r\n\t\t\t\t\t\t\t\t<ListItemText \r\n\t\t\t\t\t\t\t\t\tprimary={t[0]} \r\n\t\t\t\t\t\t\t\t\tsecondary={(t[1] * this.props.amount).toFixed(2) + \" \" + this.props.unit }/>\r\n\t\t\t\t\t\t\t</ListItem>))}\r\n\t\t\t\t\t\t</List>\t \r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div style={{maxWidth: '775px', minWidth: '500px', width: '500px', marginTop: '50px', \r\n\t\t\t\t\tbackgroundColor: '#ffd1df', display: 'flex', justifyContent: 'center', alignItems: 'center', marginLeft: 'auto', marginRight: 'auto', borderRadius: '25px'}}>\r\n\t\t\t\t\t\t\t<h3 style={{color:'gray', fontSize:'22px', backgroundColor: 'rgb(255,255,255, .5)', padding: '7px', marginTop: 'auto', marginBottom: 'auto', borderRadius: '25px'}}>\r\n\t\t\t\t\t\t\t\tYour pantry does not have any of the substitute ingredients ☹ <br />\r\n\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<StyledBtn type=\"Submit\" onClick={this.handleClick} className=\"Submit\"\r\n\t\t\t\t\t\tstyle={{backgroundColor: '#DADADA', outline: 'None', marginTop: '2px' }}>\r\n\t\t\t\t\t\tShow results anyways\r\n\t\t\t\t\t\t</StyledBtn>\r\n\t\t\t\t\t\t</div>)\r\n\t\t\t) : (<div style={{maxWidth: '150px', marginLeft: 'auto', marginRight:'auto', marginTop: '2%', height: '25px'}}>\r\n\t\t\t\t\t<LinearProgress color=\"secondary\"/><h2 style={{backgroundColor: 'white', opacity: '0.7', padding: '2px', fontSize: '20px' }}>Loading...</h2>\r\n\t\t\t\t</div>)\r\n        )\r\n    }\r\n}\r\n\r\nexport default Results"]},"metadata":{},"sourceType":"module"}