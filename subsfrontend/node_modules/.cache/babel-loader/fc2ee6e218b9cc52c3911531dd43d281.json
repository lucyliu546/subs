{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/Lucy/Documents/projects/bakingsubsv2/subsfrontend/src/Main.js\";\nimport React, { Component } from \"react\";\nimport \"./styles.css\";\nimport unitData from \"./units\";\nimport Autocompleteself from \"./Autocomplete.js\";\nimport Results from \"./Results.js\";\nimport Select from \"@material-ui/core/Select\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from '@material-ui/core/TextField';\nimport FormErrors from \"./FormErrors.js\";\nimport { withStyles, withTheme } from \"@material-ui/core\";\nimport NavigationBar from \"./NavigationBar.js\";\nconst StyledText = withStyles({\n  root: {\n    '& label.Mui-focused': {\n      color: 'gray'\n    },\n    '& .MuiInput-underline:after': {\n      borderBottomColor: '#D9D9D9'\n    },\n    '& .MuiOutlinedInput-root': {\n      '& fieldset': {\n        borderColor: 'white'\n      },\n      '&:hover fieldset': {\n        borderColor: 'white'\n      },\n      '&.Mui-focused fieldset': {\n        borderColor: '#D9D9D9'\n      }\n    },\n    backgroundColor: 'white',\n    padding: ' 10px',\n    width: '4%'\n  }\n})(TextField);\nconst StyledDrop = withStyles({\n  root: {\n    backgroundColor: 'white',\n    marginLeft: '5px',\n    '&.MuiSelect-select:focus': {\n      backgroundColor: 'white',\n      height: '20px'\n    },\n    height: '20px'\n  }\n})(Select);\n\nclass Main extends Component {\n  constructor() {\n    super();\n    this.state = {\n      ingredient: \"\",\n      input: \"\",\n      amount: \"\",\n      unit: \"\",\n      showResult: false,\n      errors: {\n        ingredient: \"\",\n        amount: \"\",\n        unit: \"\"\n      },\n      ingredientValid: null,\n      amountValid: null,\n      unitValid: null,\n      submissionValid: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.ingredient !== prevState.ingredient) {\n      this.setState({\n        showResult: false,\n        amount: \"\",\n        unit: \"\"\n      });\n    }\n  }\n\n  handleChange(event) {\n    const {\n      name,\n      value\n    } = event.target ? event.target : event;\n    this.setState({\n      [name]: value\n    }, () => {\n      this.validateFields(name, value);\n    });\n  }\n\n  validateFields(name, value) {\n    let fieldErrors = this.state.errors;\n    const formFields = Object.keys(this.state.errors);\n\n    if (formFields.includes(name)) {\n      fieldErrors[name] = value.length > 0 ? '' : 'Please choose a valid ' + name;\n      this.setState({\n        errors: fieldErrors,\n        [`${name}Valid`]: value.length > 0 ? true : false\n      }, this.validateForm);\n    }\n  }\n\n  validateForm() {\n    this.setState({\n      submissionValid: this.state.ingredientValid && this.state.amountValid && this.state.unitValid\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.setState({\n      showResult: true\n    });\n  }\n\n  render() {\n    const unitList = unitData.map(unit => /*#__PURE__*/React.createElement(\"option\", {\n      key: unit.index,\n      value: unit.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 7\n      }\n    }, unit.name));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(NavigationBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }, \"Search for your ingredient\"), /*#__PURE__*/React.createElement(Autocompleteself, {\n      sendData: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }\n    }, \"Enter the quantity:\"), /*#__PURE__*/React.createElement(StyledText, {\n      error: this.state.errors.amount,\n      name: \"amount\",\n      helperText: this.state.errors.amount,\n      value: this.state.amount,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(StyledDrop, {\n      name: \"unit\",\n      disableUnderline: true,\n      value: this.state.unit,\n      onChange: this.handleChange,\n      helperText: this.state.errors.unit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }\n    }, unitList), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      disabled: !this.state.submissionValid,\n      type: \"Submit\",\n      variant: \"outlined\",\n      onClick: this.handleClick,\n      className: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }\n    }, \"Find substitution!\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Results\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 3\n      }\n    }, this.state.showResult && /*#__PURE__*/React.createElement(Results, {\n      ingredient: this.state.ingredient,\n      amount: this.state.amount,\n      unit: this.state.unit,\n      showResult: this.state.showResult,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 29\n      }\n    })));\n  }\n\n}\n\nexport default Main;","map":{"version":3,"sources":["/mnt/c/Users/Lucy/Documents/projects/bakingsubsv2/subsfrontend/src/Main.js"],"names":["React","Component","unitData","Autocompleteself","Results","Select","Button","TextField","FormErrors","withStyles","withTheme","NavigationBar","StyledText","root","color","borderBottomColor","borderColor","backgroundColor","padding","width","StyledDrop","marginLeft","height","Main","constructor","state","ingredient","input","amount","unit","showResult","errors","ingredientValid","amountValid","unitValid","submissionValid","handleChange","bind","handleSubmit","componentDidUpdate","prevProps","prevState","setState","event","name","value","target","validateFields","fieldErrors","formFields","Object","keys","includes","length","validateForm","preventDefault","render","unitList","map","index","handleClick"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./styles.css\";\r\nimport unitData from \"./units\";\r\nimport Autocompleteself from \"./Autocomplete.js\";\r\nimport Results from \"./Results.js\"\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormErrors from \"./FormErrors.js\";\r\nimport { withStyles, withTheme } from \"@material-ui/core\";\r\nimport NavigationBar from \"./NavigationBar.js\"\r\n\r\nconst StyledText = withStyles({\r\n  root: {\r\n    '& label.Mui-focused': {\r\n      color: 'gray',\r\n    },\r\n    '& .MuiInput-underline:after': {\r\n      borderBottomColor: '#D9D9D9',\r\n    },\r\n    '& .MuiOutlinedInput-root': {\r\n      '& fieldset': {\r\n        borderColor: 'white',\r\n      },\r\n      '&:hover fieldset': {\r\n        borderColor: 'white',\r\n      },\r\n      '&.Mui-focused fieldset': {\r\n        borderColor: '#D9D9D9',\r\n      },\r\n    },\r\n    backgroundColor: 'white',\r\n    padding: ' 10px',\r\n    width: '4%'\r\n  },\r\n})(TextField);\r\n\r\nconst StyledDrop = withStyles({\r\n  root:{\r\n    backgroundColor: 'white',\r\n    marginLeft: '5px',\r\n    '&.MuiSelect-select:focus': {\r\n      backgroundColor: 'white',\r\n      height: '20px'\r\n    },\r\n    height: '20px'\r\n  }\r\n}\r\n)(Select);\r\n\r\n\r\n\r\nclass Main extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      ingredient: \"\",\r\n      input: \"\",\r\n      amount: \"\",\r\n      unit: \"\",\r\n      showResult: false,\r\n      errors: {ingredient: \"\", amount:\"\", unit: \"\"},\r\n      ingredientValid: null,\r\n      amountValid: null,\r\n      unitValid: null,\r\n      submissionValid: false\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState){\r\n    if (this.state.ingredient !== prevState.ingredient){\r\n      this.setState({\r\n        showResult: false, \r\n        amount: \"\",\r\n        unit: \"\",\r\n      })\r\n    }\r\n  }\r\n\r\n  handleChange(event) {\r\n    const { name, value } = event.target ? event.target : event;\r\n    this.setState(\r\n      {[name]: value},\r\n      () => {this.validateFields(name, value)})\r\n    }\r\n    \r\n  validateFields(name, value) {\r\n    let fieldErrors = this.state.errors\r\n    const formFields = Object.keys(this.state.errors)\r\n    if (formFields.includes(name)) {\r\n      fieldErrors[name]= value.length > 0 ? '': 'Please choose a valid ' + name\r\n      this.setState({\r\n        errors: fieldErrors,\r\n        [`${name}Valid`]: (value.length > 0 ? true: false)\r\n      }, this.validateForm)\r\n  } \r\n  }\r\n\r\n  validateForm(){\r\n    this.setState({\r\n      submissionValid: this.state.ingredientValid && this.state.amountValid && this.state.unitValid\r\n    })\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault()\r\n    this.setState({\r\n      showResult: true\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const unitList = unitData.map(unit => (\r\n      <option key={unit.index} value={unit.name}>\r\n        {unit.name}\r\n      </option>\r\n    ));\r\n    return (\r\n      <div className=\"App\">\r\n        <NavigationBar/>\r\n        <form onSubmit={this.handleSubmit}>\r\n          {/* ingredient search */}\r\n          <p>Search for your ingredient</p>\r\n           <Autocompleteself \r\n            sendData={this.handleChange}\r\n          /> \r\n          \r\n          {/* quantity textbox */}\r\n          <p>Enter the quantity:</p>\r\n          <StyledText\r\n            error = {this.state.errors.amount}\r\n            name=\"amount\"\r\n            helperText={this.state.errors.amount}\r\n            value={this.state.amount}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          {/* units drop-down */}\r\n          <StyledDrop\r\n            name=\"unit\"\r\n            disableUnderline\r\n            value={this.state.unit}\r\n            onChange={this.handleChange}\r\n            helperText = {this.state.errors.unit}\r\n          >\r\n            {unitList}\r\n            \r\n          </StyledDrop>\r\n\r\n          {/*submit button */}\r\n          <br />\r\n          <Button disabled = {!this.state.submissionValid} type=\"Submit\" variant=\"outlined\" onClick={this.handleClick} className=\"Submit\">\r\n            Find substitution!\r\n          </Button>\r\n        </form>\r\n\t\t\r\n\t\t<div className=\"Results\">\r\n\t\t{this.state.showResult && <Results \r\n\t\t\tingredient={this.state.ingredient} \r\n\t\t\tamount={this.state.amount} \r\n\t\t\tunit={this.state.unit}\r\n\t\t\tshowResult={this.state.showResult}\r\n\t\t/>}\t\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Main;\r\n"]},"metadata":{},"sourceType":"module"}