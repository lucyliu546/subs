{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/Lucy/Documents/projects/bakingsubsv2/subsfrontend/src/Results.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport SentimentDissatisfiedIcon from '@material-ui/icons/SentimentDissatisfied';\nimport { withStyles, withTheme } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\n/* eslint-disable */\n\n/* Displays the substitution results at the bottom of the main page */\n\nconst StyledBtn = withStyles({\n  backgroundColor: 'gray',\n  root: {\n    '& label.Mui-focused': {\n      color: 'gray'\n    },\n    '& .MuiInput-underline:after': {\n      borderBottomColor: '#D9D9D9'\n    },\n    '& .MuiOutlinedInput-root': {\n      '& fieldset': {\n        borderColor: 'white'\n      },\n      '&:hover fieldset': {\n        borderColor: 'white'\n      },\n      '&.Mui-focused fieldset': {\n        borderColor: '#D9D9D9'\n      }\n    }\n  }\n})(Button);\n\nclass Results extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      result: [],\n      subslist: [],\n      userIngredients: JSON.parse(localStorage.getItem('userPantry'))\n    };\n  }\n\n  async componentDidMount() {\n    await axios.get(encodeURI(\"http://127.0.0.1:8000/api/subs/?format=json&subname=\".concat(this.props.ingredient.toString()))).then(response => {\n      var result = response.data;\n      this.setState({\n        result: result\n      });\n    }, error => {\n      {\n        alert(error);\n      }\n      ;\n    });\n  }\n\n  async componentDidUpdate() {\n    if (this.state.result[0].subname !== this.props.ingredient) {\n      await axios.get(encodeURI(\"http://127.0.0.1:8000/api/subs/?format=json&subname=\".concat(this.props.ingredient.toString()))).then(response => {\n        var result = response.data;\n        this.setState({\n          result: result\n        });\n      }, error => {\n        {\n          alert(error);\n        }\n        ;\n      });\n    }\n  }\n\n  render() {\n    if (this.state.result.length > 0) {\n      var substlist = this.state.result[0].subslist;\n      const ingredientList = Object.entries(substlist).map(t => t[0]);\n      var userHasIngrs = ingredientList.every(i => this.state.userIngredients.includes(i));\n    }\n\n    return this.state.result.length > 0 ? userHasIngrs !== false || this.state.userIngredients.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Results\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"List\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(List, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }\n    }, Object.entries(substlist).map((t, k) => /*#__PURE__*/React.createElement(ListItem, {\n      className: \"ListItem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(ListItemText, {\n      primary: t[0],\n      secondary: (t[1] * this.props.amount).toFixed(2) + \" \" + this.props.unit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }\n    })))))) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        maxWidth: '775px',\n        minWidth: '500px',\n        width: '500px',\n        marginTop: '25px',\n        backgroundColor: '#ffd1df',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        marginLeft: 'auto',\n        marginRight: 'auto'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        color: 'gray',\n        fontSize: '25px',\n        backgroundColor: 'rgb(255,255,255, .5)',\n        padding: '7px',\n        marginTop: 'auto',\n        marginBottom: 'auto'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 8\n      }\n    }, \"Your pantry does not have any of the substitute ingredients \\u2639 \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 71\n      }\n    }))), /*#__PURE__*/React.createElement(StyledBtn, {\n      type: \"Submit\",\n      onClick: this.handleClick,\n      className: \"Submit\",\n      style: {\n        backgroundColor: '#DADADA',\n        outline: 'None',\n        marginTop: '2px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 7\n      }\n    }, \"Show results anyways\")) : /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        maxWidth: '150px',\n        marginLeft: 'auto',\n        marginRight: 'auto',\n        marginTop: '2%',\n        height: '25px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(LinearProgress, {\n      color: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      style: {\n        backgroundColor: 'white',\n        opacity: '0.7',\n        padding: '2px',\n        fontSize: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 41\n      }\n    }, \"Loading...\"));\n  }\n\n}\n\nexport default Results;","map":{"version":3,"sources":["/mnt/c/Users/Lucy/Documents/projects/bakingsubsv2/subsfrontend/src/Results.js"],"names":["React","Component","axios","List","ListItem","ListItemText","LinearProgress","SentimentDissatisfiedIcon","withStyles","withTheme","Button","StyledBtn","backgroundColor","root","color","borderBottomColor","borderColor","Results","constructor","props","state","result","subslist","userIngredients","JSON","parse","localStorage","getItem","componentDidMount","get","encodeURI","concat","ingredient","toString","then","response","data","setState","error","alert","componentDidUpdate","subname","render","length","substlist","ingredientList","Object","entries","map","t","userHasIngrs","every","i","includes","k","amount","toFixed","unit","maxWidth","minWidth","width","marginTop","display","justifyContent","alignItems","marginLeft","marginRight","fontSize","padding","marginBottom","handleClick","outline","height","opacity"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport axios from \"axios\";\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport SentimentDissatisfiedIcon from '@material-ui/icons/SentimentDissatisfied'\r\nimport { withStyles, withTheme } from \"@material-ui/core\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\n/* eslint-disable */\r\n\r\n\r\n/* Displays the substitution results at the bottom of the main page */\r\n\r\n\r\nconst StyledBtn = withStyles({\r\n\tbackgroundColor: 'gray',\r\n    root: {\r\n\t\t\r\n        '& label.Mui-focused': {\r\n          color: 'gray',\r\n        },\r\n        '& .MuiInput-underline:after': {\r\n          borderBottomColor: '#D9D9D9',\r\n        },\r\n        '& .MuiOutlinedInput-root': {\r\n          '& fieldset': {\r\n            borderColor: 'white',\r\n          },\r\n          '&:hover fieldset': {\r\n            borderColor: 'white',\r\n          },\r\n          '&.Mui-focused fieldset': {\r\n            borderColor: '#D9D9D9',\r\n          },\r\n        }\r\n    }\r\n})(Button);\r\n\r\nclass Results extends Component {\r\n    constructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tresult: [],\r\n\t\t\tsubslist: [],\r\n\t\t\tuserIngredients: JSON.parse(localStorage.getItem('userPantry'))\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\tasync componentDidMount() {\r\n\t\tawait axios.get(encodeURI(\"http://127.0.0.1:8000/api/subs/?format=json&subname=\"\r\n\t\t.concat((this.props.ingredient).toString())\r\n\t\t\t)).then( \r\n        response => { \r\n\t\t\tvar result = response.data; \r\n\t\t\tthis.setState({ result: result })\r\n            }, \r\n            (error) => { \r\n            {alert(error)}; \r\n            } \r\n\t\t)\r\n\t\t} \r\n\t\r\n\tasync componentDidUpdate() {\r\n\t\tif (this.state.result[0].subname !== this.props.ingredient ){\r\n\t\tawait axios.get(encodeURI(\"http://127.0.0.1:8000/api/subs/?format=json&subname=\"\r\n\t\t.concat((this.props.ingredient).toString())\r\n\t\t\t)).then( \r\n        response => { \r\n\t\t\tvar result = response.data; \r\n\t\t\tthis.setState({ result: result })\r\n            }, \r\n            (error) => { \r\n            {alert(error)}; \r\n            } \r\n\t\t)\r\n\t\t} \r\n\t}\t\t\r\n\r\n\trender() {\r\n\t\tif (this.state.result.length > 0) {\r\n\t\t\tvar substlist = this.state.result[0].subslist\r\n\t\t\tconst ingredientList = Object.entries(substlist).map(t => t[0])\r\n\t\t\t\r\n\t\t\tvar userHasIngrs = ingredientList.every(i => this.state.userIngredients.includes(i))\r\n\t\t}\r\n\t\t\t\r\n\t\treturn(\r\n\t\t\t (this.state.result.length > 0) ? (\r\n\t\t\t\t(userHasIngrs !== false || this.state.userIngredients.length === 0) ? (\r\n\t\t\t\t\t<div className=\"Results\">\r\n\t\t\t\t\t<div className=\"List\">\r\n\t\t\t\t\t\t<List>\r\n\t\t\t\t\t\t\t{Object.entries(substlist).map((t, k) => (\r\n\t\t\t\t\t\t\t<ListItem className=\"ListItem\">\r\n\t\t\t\t\t\t\t\t<ListItemText \r\n\t\t\t\t\t\t\t\t\tprimary={t[0]} \r\n\t\t\t\t\t\t\t\t\tsecondary={(t[1] * this.props.amount).toFixed(2) + \" \" + this.props.unit }/>\r\n\t\t\t\t\t\t\t</ListItem>))}\r\n\t\t\t\t\t\t</List>\t \r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div style={{maxWidth: '775px', minWidth: '500px', width: '500px', marginTop: '25px', \r\n\t\t\t\t\tbackgroundColor: '#ffd1df', display: 'flex', justifyContent: 'center', alignItems: 'center', marginLeft: 'auto', marginRight: 'auto'}}>\r\n\t\t\t\t\t\t\t<h3 style={{color:'gray', fontSize:'25px', backgroundColor: 'rgb(255,255,255, .5)', padding: '7px', marginTop: 'auto', marginBottom: 'auto'}}>\r\n\t\t\t\t\t\t\t\tYour pantry does not have any of the substitute ingredients â˜¹ <br />\r\n\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<StyledBtn type=\"Submit\" onClick={this.handleClick} className=\"Submit\"\r\n\t\t\t\t\t\tstyle={{backgroundColor: '#DADADA', outline: 'None', marginTop: '2px'}}>\r\n\t\t\t\t\t\tShow results anyways\r\n\t\t\t\t\t\t</StyledBtn>\r\n\t\t\t\t\t\t</div>)\r\n\t\t\t) : (<div style={{maxWidth: '150px', marginLeft: 'auto', marginRight:'auto', marginTop: '2%', height: '25px'}}>\r\n\t\t\t\t\t<LinearProgress color=\"secondary\"/><h2 style={{backgroundColor: 'white', opacity: '0.7', padding: '2px', fontSize: '20px' }}>Loading...</h2>\r\n\t\t\t\t</div>)\r\n        )\r\n    }\r\n}\r\n\r\nexport default Results"]},"metadata":{},"sourceType":"module"}