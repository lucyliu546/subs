{"ast":null,"code":"import _createForOfIteratorHelper from\"/mnt/c/Users/Lucy/Documents/projects/bakingsubsv2/subsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _regeneratorRuntime from\"/mnt/c/Users/Lucy/Documents/projects/bakingsubsv2/subsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/mnt/c/Users/Lucy/Documents/projects/bakingsubsv2/subsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/mnt/c/Users/Lucy/Documents/projects/bakingsubsv2/subsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/mnt/c/Users/Lucy/Documents/projects/bakingsubsv2/subsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/mnt/c/Users/Lucy/Documents/projects/bakingsubsv2/subsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/mnt/c/Users/Lucy/Documents/projects/bakingsubsv2/subsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/mnt/c/Users/Lucy/Documents/projects/bakingsubsv2/subsfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import NavigationBar from\"./NavigationBar.js\";import List from'@material-ui/core/List';import ListItem from'@material-ui/core/ListItem';import ListItemAvatar from'@material-ui/core/ListItemAvatar';import Button from\"@material-ui/core/Button\";import ListItemSecondaryAction from'@material-ui/core/ListItemSecondaryAction';import ListItemText from'@material-ui/core/ListItemText';import Avatar from'@material-ui/core/Avatar';import IconButton from'@material-ui/core/IconButton';import KitchenIcon from'@material-ui/icons/Kitchen';import DeleteIcon from'@material-ui/icons/Delete';import\"./subs.json\";import axios from\"axios\";import TextField from'@material-ui/core/TextField';import Autocomplete from'@material-ui/lab/Autocomplete';import{withStyles}from\"@material-ui/core\";import Footer from\"./Footer.js\";import{createFilterOptions}from'@material-ui/lab/Autocomplete';var StyledText=withStyles({root:{'& label.Mui-focused':{color:'gray'},'& .MuiInput-underline:after':{borderBottomColor:'#D9D9D9'},'& .MuiOutlinedInput-root':{'& fieldset':{borderColor:'white'},'&:hover fieldset':{borderColor:'white'},'&.Mui-focused fieldset':{borderColor:'#D9D9D9'}},boxShadow:'0 3px 3px 2px rgba(240, 105, 135, .3)'}})(TextField);var StyledBtn=withStyles({root:{'& label.Mui-focused':{color:'gray'},'& .MuiInput-underline:after':{borderBottomColor:'#D9D9D9'},'& .MuiOutlinedInput-root':{'& fieldset':{borderColor:'white'},'&:hover fieldset':{borderColor:'white'},'&.Mui-focused fieldset':{borderColor:'#D9D9D9'}},alignContent:'left',marginLeft:'.2%',display:'inline-grid',paddingTop:'15px',paddingBottom:'15px',transform:'translateY(4px)'}})(Button);var Pantry=/*#__PURE__*/function(_Component){_inherits(Pantry,_Component);var _super=_createSuper(Pantry);function Pantry(props){var _this;_classCallCheck(this,Pantry);_this=_super.call(this,props);_this.deleteIngr=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(ingr){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.setState(function(prevstate){return{userIngredients:prevstate.userIngredients.filter(function(item){return item!=ingr;}),rawOptions:prevstate.rawOptions.concat(ingr)};});case 2:_this.setLocalStorage();case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={input:\"\",ingredients:[],userIngredients:JSON.parse(localStorage.getItem('userPantry')),suggestions:[],rawOptions:[],showBtn:false,clear:false};_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));_this.filterOptions=_this.filterOptions.bind(_assertThisInitialized(_this));_this.setLocalStorage=_this.setLocalStorage.bind(_assertThisInitialized(_this));return _this;}_createClass(Pantry,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this2=this;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"http://127.0.0.1:8000/api/subs/\").then(function(response){var result=response.data;_this2.setState({rawOptions:result.map(function(i){return i.subname;})});},function(error){{alert(error);};});case 2:_context2.next=4;return axios.get(\"http://127.0.0.1:8000/api/inventories/\").then(function(response){var result=response.data;_this2.setState({TESTpantry:result});},function(error){{alert(error);};});case 4:this.filterOptions();case 5:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()/* Once a user clicks add  */},{key:\"handleClick\",value:function(){var _handleClick=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.setState(function(prevstate){return{userIngredients:prevstate.userIngredients.concat(prevstate.ingredients),ingredients:[],clear:!prevstate.clear};});case 2:this.filterOptions();this.setLocalStorage();case 4:case\"end\":return _context3.stop();}}},_callee3,this);}));function handleClick(){return _handleClick.apply(this,arguments);}return handleClick;}()/* Refreshes dropdown based on what user adds/deletes  */},{key:\"filterOptions\",value:function filterOptions(){var options=[];var rawOptions=this.state.rawOptions;var userIngredients=this.state.userIngredients;var _iterator=_createForOfIteratorHelper(rawOptions),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var val=_step.value;var found=userIngredients.includes(val);if(found===false){options.push(val);}}}catch(err){_iterator.e(err);}finally{_iterator.f();}this.setState({rawOptions:options});}/* stores user's pantry in localstorage */},{key:\"setLocalStorage\",value:function setLocalStorage(){localStorage.setItem('userPantry',JSON.stringify(this.state.userIngredients));}/* Adds what user selects in dropdown to a temp array */},{key:\"suggestionSelected\",value:function suggestionSelected(valuearray){if(valuearray!==null){this.setState({ingredients:valuearray.map(function(i){return i;}),showBtn:true});};}/* If a user clicks the delete icon */},{key:\"render\",value:function render(){var _this3=this;var hasIngr=this.state.userIngredients.length>0;var useringr=this.state.userIngredients;return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(NavigationBar,null),/*#__PURE__*/React.createElement(\"div\",{className:\"PantrySearch\"},/*#__PURE__*/React.createElement(Autocomplete,{multiple:true,name:\"ingredient\",key:this.state.clear,onChange:function onChange(event,valuearray){return _this3.suggestionSelected(valuearray);},id:\"autocomplete-box\",options:this.state.rawOptions,getOptionLabel:function getOptionLabel(option){return option;},disableClearable:true,style:{width:700,display:'inline-block',position:'relative',background:'white',alignContent:'left',marginTop:'2%','&$cssFocused $notchedOutline':{borderColor:'#448cff'},'&:hover $notchedOutline':{borderColor:'#FFFFFF'}},renderInput:function renderInput(params){return/*#__PURE__*/React.createElement(StyledText,Object.assign({},params,{label:\"Ingredient\",variant:\"outlined\"}));}}),/*#__PURE__*/React.createElement(StyledBtn,{disabled:this.showBtn,type:\"Submit\",onClick:this.handleClick,className:\"Submit\"},\"Add\")),hasIngr&&/*#__PURE__*/React.createElement(\"div\",{style:{minWidth:'570px',width:'570px',marginLeft:'auto',marginRight:'auto',marginTop:'10px',backgroundColor:'#ffd1df',color:'gray',maxHeight:'800px'}},/*#__PURE__*/React.createElement(List,{dense:true,style:{overflowY:'scroll',maxHeight:'500px',width:'550'}},useringr.map(function(i){return/*#__PURE__*/React.createElement(ListItem,{style:{backgroundColor:'rgb(255,255,255, .5)',margin:'5px',maxWidth:'540px'}},/*#__PURE__*/React.createElement(ListItemAvatar,null,/*#__PURE__*/React.createElement(Avatar,null,/*#__PURE__*/React.createElement(KitchenIcon,null))),/*#__PURE__*/React.createElement(ListItemText,{disableTypography:true,primary:i,style:{fontSize:'18px'}}),/*#__PURE__*/React.createElement(ListItemSecondaryAction,{style:{marginRight:'5px'}},/*#__PURE__*/React.createElement(IconButton,{onClick:function onClick(){return _this3.deleteIngr(i);},edge:\"end\",\"aria-label\":\"delete\"},/*#__PURE__*/React.createElement(DeleteIcon,null))));}))),!hasIngr&&/*#__PURE__*/React.createElement(\"div\",{style:{maxWidth:'775px',minHeight:'100px',marginLeft:'auto',marginRight:'auto',marginTop:'10px',backgroundColor:'#ffd1df',display:'flex',justifyContent:'center',alignItems:'center'}},/*#__PURE__*/React.createElement(\"h1\",{style:{color:'gray',fontSize:'25px',backgroundColor:'rgb(255,255,255, .5)',padding:'7px'}},\"Your pantry is empty \",/*#__PURE__*/React.createElement(\"br\",null),\" Use the search box to add some ingredients! \")),/*#__PURE__*/React.createElement(Footer,null));}}]);return Pantry;}(Component);export default Pantry;","map":{"version":3,"sources":["/mnt/c/Users/Lucy/Documents/projects/bakingsubsv2/subsfrontend/src/Pantry.js"],"names":["React","Component","NavigationBar","List","ListItem","ListItemAvatar","Button","ListItemSecondaryAction","ListItemText","Avatar","IconButton","KitchenIcon","DeleteIcon","axios","TextField","Autocomplete","withStyles","Footer","createFilterOptions","StyledText","root","color","borderBottomColor","borderColor","boxShadow","StyledBtn","alignContent","marginLeft","display","paddingTop","paddingBottom","transform","Pantry","props","deleteIngr","ingr","setState","prevstate","userIngredients","filter","item","rawOptions","concat","setLocalStorage","state","input","ingredients","JSON","parse","localStorage","getItem","suggestions","showBtn","clear","handleClick","bind","filterOptions","get","then","response","result","data","map","i","subname","error","alert","TESTpantry","options","val","found","includes","push","setItem","stringify","valuearray","hasIngr","length","useringr","event","suggestionSelected","option","width","position","background","marginTop","params","minWidth","marginRight","backgroundColor","maxHeight","overflowY","margin","maxWidth","fontSize","minHeight","justifyContent","alignItems","padding"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport NavigationBar from \"./NavigationBar.js\"\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport KitchenIcon from '@material-ui/icons/Kitchen';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport \"./subs.json\";\r\nimport axios from \"axios\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport { withStyles } from \"@material-ui/core\";\r\nimport Footer from \"./Footer.js\"\r\nimport { createFilterOptions } from '@material-ui/lab/Autocomplete';\r\n\r\nconst StyledText = withStyles({\r\n  root: {\r\n\t'& label.Mui-focused': {\r\n\t  color: 'gray',\r\n\t},\r\n\t'& .MuiInput-underline:after': {\r\n\t  borderBottomColor: '#D9D9D9',\r\n\t},\r\n\t'& .MuiOutlinedInput-root': {\r\n\t  '& fieldset': {\r\n\t\tborderColor: 'white',\r\n\t  },\r\n\t  '&:hover fieldset': {\r\n\t\tborderColor: 'white',\r\n\t  },\r\n\t  '&.Mui-focused fieldset': {\r\n\t\tborderColor: '#D9D9D9',\r\n\t  },\r\n\t},\r\n\tboxShadow: '0 3px 3px 2px rgba(240, 105, 135, .3)'\r\n  },\r\n})(TextField);\r\n\r\nconst StyledBtn = withStyles({\r\n  root: {\r\n\t  '& label.Mui-focused': {\r\n\t\tcolor: 'gray',\r\n\t  },\r\n\t  '& .MuiInput-underline:after': {\r\n\t\tborderBottomColor: '#D9D9D9',\r\n\t  },\r\n\t  '& .MuiOutlinedInput-root': {\r\n\t\t'& fieldset': {\r\n\t\t  borderColor: 'white',\r\n\t\t},\r\n\t\t'&:hover fieldset': {\r\n\t\t  borderColor: 'white',\r\n\t\t},\r\n\t\t'&.Mui-focused fieldset': {\r\n\t\t  borderColor: '#D9D9D9',\r\n\t\t},\r\n\t  }, \r\n\t  alignContent: 'left',\r\n\t  marginLeft: '.2%',\r\n\t  display: 'inline-grid',\r\n\t  paddingTop: '15px',\r\n\t  paddingBottom: '15px',\r\n\t  transform: 'translateY(4px)'\r\n  },\r\n  \r\n})(Button);\r\n\r\n\r\n\r\nclass Pantry extends Component {\r\n  constructor(props) {\r\n\tsuper(props);\r\n\tthis.state = {\r\n\t  input: \"\",\r\n\t  ingredients: [],\r\n\t  userIngredients: JSON.parse(localStorage.getItem('userPantry')),\r\n\t  suggestions: [],\r\n\t  rawOptions: [],\r\n\t  showBtn: false,\r\n\t  clear: false,\r\n\t  \r\n\t  \r\n\t};\r\n\tthis.handleClick = this.handleClick.bind(this)\r\n\tthis.filterOptions = this.filterOptions.bind(this)\r\n\tthis.setLocalStorage = this.setLocalStorage.bind(this)\r\n  }\r\n  async componentDidMount() {\r\n\tawait axios.get(\"http://127.0.0.1:8000/api/subs/\").then( \r\n\t  response => { \r\n\t\tvar result = response.data; \r\n\t\tthis.setState({ rawOptions: result.map(i => {\r\n\t\t\treturn i.subname\r\n\t\t}) })\r\n\t\t}, \r\n\t(error) => { \r\n\t{alert(error)}; \r\n\t\t} \r\n  \t); \r\n\tawait axios.get(\"http://127.0.0.1:8000/api/inventories/\").then( \r\n\t  response => { \r\n\t\tvar result = response.data; \r\n\t\tthis.setState({ \r\n\t\t\tTESTpantry: result\r\n\t\t })\r\n\t\t}, \r\n\t(error) => { \r\n\t{alert(error)}; \r\n\t\t} \r\n\t  ); \r\n\tthis.filterOptions()\r\n  }\r\n\r\n/* Once a user clicks add  */\r\n  async handleClick() {\r\n\tawait this.setState(prevstate => ({\r\n\t\tuserIngredients: prevstate.userIngredients.concat(prevstate.ingredients),\r\n\t\tingredients: [],\r\n\t\tclear: !prevstate.clear\r\n\t  }\r\n\t  ))\r\n\t  this.filterOptions()\r\n\t  this.setLocalStorage()\r\n  }\r\n\r\n/* Refreshes dropdown based on what user adds/deletes  */\r\n  filterOptions(){\r\n\tconst options = []\r\n\tconst rawOptions = this.state.rawOptions\r\n\tconst userIngredients = this.state.userIngredients\r\n\tfor (var val of rawOptions) {\r\n\t\tconst found = userIngredients.includes(val)\r\n\t\tif (found === false) {\r\n\t\t\toptions.push(val)\r\n\t\t} \r\n\t }\r\n\tthis.setState({\r\n\t\trawOptions: options\r\n\t})\r\n  }\r\n\r\n/* stores user's pantry in localstorage */\r\n  setLocalStorage() {\r\n\tlocalStorage.setItem('userPantry', JSON.stringify(this.state.userIngredients))\r\n  }\r\n\r\n/* Adds what user selects in dropdown to a temp array */\r\nsuggestionSelected (valuearray) {\r\n  if (valuearray !== null) {\r\n\tthis.setState({\r\n\t  ingredients: valuearray.map(i => {\r\n\t\treturn i\r\n\t  }),\r\n\t  showBtn: true\r\n\r\n\t});\r\n  };\r\n  }\r\n\r\n/* If a user clicks the delete icon */\r\ndeleteIngr = async (ingr) => {\r\n  await this.setState( prevstate => ({\r\n\tuserIngredients: prevstate.userIngredients.filter(item => item != ingr),\r\n\trawOptions: prevstate.rawOptions.concat(ingr)\r\n  }))\r\n  this.setLocalStorage()\r\n}\r\n\r\n\r\n  render() {\r\n\tconst hasIngr = this.state.userIngredients.length > 0\r\n\tconst useringr = this.state.userIngredients\r\n\t \r\n\treturn (\r\n\t  <div className=\"App\">\r\n\t  <NavigationBar/>\r\n\r\n\t  {/*Ingredient input box */}\r\n\t  <div className=\"PantrySearch\">\r\n\t <Autocomplete\r\n\t  multiple\r\n\t  name = 'ingredient'\r\n\t  key = {this.state.clear}\r\n\t  onChange = {(event, valuearray) => this.suggestionSelected(valuearray)} \r\n\t  id=\"autocomplete-box\"\r\n\t  options = {this.state.rawOptions}\r\n\t  getOptionLabel={(option) => option}\r\n\t  \r\n\t  disableClearable \r\n\t  style={{ width: 700,\r\n\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\tposition: 'relative',\r\n\t\t\t\tbackground: 'white',\r\n\t\t\t\talignContent: 'left',\r\n\t\t\t\tmarginTop: '2%',\r\n\t\t\t\t'&$cssFocused $notchedOutline': {\r\n\t\t\t\t  borderColor: '#448cff',\r\n\t\t\t  },\r\n\t\t\t  '&:hover $notchedOutline':{\r\n\t\t\t\t  borderColor:'#FFFFFF'\r\n\t\t\t  }\r\n\t\t\t   }}\r\n\t  renderInput={(params) => <StyledText {...params} label=\"Ingredient\" variant=\"outlined\" />}\r\n\t/>\r\n\r\n\t{/*Submit button*/}\r\n\t<StyledBtn disabled = {this.showBtn} type=\"Submit\" onClick={this.handleClick} className=\"Submit\"\r\n\t\t\t\t>\r\n\t\t\tAdd\r\n\t</StyledBtn>\r\n\t\r\n\t</div>\r\n\t{/*Pantry list*/}\r\n\t\r\n\t{hasIngr && (\r\n\t  <div style={{minWidth: '570px', width: '570px', marginLeft: 'auto', marginRight: 'auto', marginTop: '10px', \r\n\t\t\t\t  backgroundColor: '#ffd1df', color: 'gray', maxHeight: '800px'}}>\r\n\t  <List dense style={{overflowY:'scroll', maxHeight: '500px', width: '550'}}>\r\n\t\t{useringr.map(i => (\r\n\t\t\t\t<ListItem style={{backgroundColor: 'rgb(255,255,255, .5)', margin: '5px',  maxWidth: '540px'}}>\r\n\t\t\t\t<ListItemAvatar> \r\n\t\t\t\t  <Avatar>\r\n\t\t\t\t\t<KitchenIcon />\r\n\t\t\t\t  </Avatar>\r\n\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t<ListItemText disableTypography\r\n\t\t\t\t  primary= {i}\r\n\t\t\t\t  style = {{fontSize: '18px'}}\r\n\t\t\t\t/>\r\n\t\t\t\t<ListItemSecondaryAction style={{marginRight: '5px'}}>\r\n\t\t\t\t  <IconButton onClick={() => this.deleteIngr(i)} edge=\"end\" aria-label=\"delete\">\r\n\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t  </IconButton>\r\n\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t  </ListItem>\r\n\t\t\t  ))}\r\n\t  </List>\r\n\t  </div>\r\n\t)\r\n\t}\r\n\t{!hasIngr && \r\n\t<div style={{maxWidth: '775px', minHeight: '100px', marginLeft: 'auto', marginRight: 'auto', marginTop: '10px', \r\n\tbackgroundColor: '#ffd1df', display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\r\n\t\t<h1 style={{color:'gray', fontSize:'25px', backgroundColor: 'rgb(255,255,255, .5)', padding: '7px' }}>Your pantry is empty <br /> Use the search box to add some ingredients! </h1>\r\n\t\t\r\n\t  </div>\r\n\r\n\t}\r\n\t  <Footer />\r\n\t  </div>\r\n\t);\r\n  }\r\n}\r\n\r\nexport default Pantry;"]},"metadata":{},"sourceType":"module"}