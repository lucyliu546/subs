{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/Lucy/Documents/projects/bakingsubsv2/subsfrontend/src/Main.js\";\nimport React, { Component } from \"react\";\nimport \"./styles.css\";\nimport unitData from \"./units\";\nimport Autocompleteself from \"./Autocomplete.js\";\nimport Results from \"./Results.js\";\nimport Select from \"@material-ui/core/Select\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from '@material-ui/core/TextField';\nimport { withStyles, withTheme } from \"@material-ui/core\";\nimport NavigationBar from \"./NavigationBar.js\";\nimport Footer from \"./Footer.js\";\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { SnackbarContent } from '@material-ui/core';\nconst StyledText = withStyles({\n  root: {\n    '& label.Mui-focused': {\n      color: 'gray'\n    },\n    '& .MuiInput-underline:after': {\n      borderBottomColor: '#D9D9D9'\n    },\n    '& .MuiOutlinedInput-root': {\n      '& fieldset': {\n        borderColor: 'white'\n      },\n      '&:hover fieldset': {\n        borderColor: 'white'\n      },\n      '&.Mui-focused fieldset': {\n        borderColor: '#D9D9D9'\n      }\n    },\n    backgroundColor: 'white',\n    padding: ' 10px',\n    width: '4%'\n  }\n})(TextField);\nconst StyledDrop = withStyles({\n  root: {\n    backgroundColor: 'white',\n    marginLeft: '5px',\n    '&.MuiSelect-select:focus': {\n      backgroundColor: 'white',\n      height: '20px'\n    },\n    height: '20px'\n  }\n})(Select);\nconst StyledBtn = withStyles({\n  root: {\n    '& label.Mui-focused': {\n      color: 'gray'\n    },\n    '& .MuiInput-underline:after': {\n      borderBottomColor: '#D9D9D9'\n    },\n    '& .MuiOutlinedInput-root': {\n      '& fieldset': {\n        borderColor: 'white'\n      },\n      '&:hover fieldset': {\n        borderColor: 'white'\n      },\n      '&.Mui-focused fieldset': {\n        borderColor: '#D9D9D9'\n      }\n    }\n  }\n})(Button);\nconst StyledSnackBar = withStyles({\n  root: {\n    '& .MuiPaper': {\n      backgroundColor: 'gray'\n    }\n  }\n})(Snackbar);\n\nclass Main extends Component {\n  constructor() {\n    super();\n    this.state = {\n      ingredient: \"\",\n      input: \"\",\n      amount: \"\",\n      unit: \"\",\n      showResult: false,\n      errors: {\n        ingredient: \"\",\n        amount: \"\",\n        unit: \"\"\n      },\n      ingredientValid: null,\n      amountValid: null,\n      unitValid: null,\n      submissionValid: false,\n      userIngredients: JSON.parse(localStorage.getItem('userPantry')),\n      empty: true\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.ingredient !== prevState.ingredient) {\n      this.setState({\n        showResult: false,\n        amount: \"\",\n        unit: \"\"\n      });\n    }\n  }\n\n  handleChange(event) {\n    const {\n      name,\n      value\n    } = event.target ? event.target : event;\n    this.setState({\n      [name]: value\n    }, () => {\n      this.validateFields(name, value);\n    });\n  }\n\n  validateFields(name, value) {\n    let fieldErrors = this.state.errors;\n    const formFields = Object.keys(this.state.errors);\n\n    if (formFields.includes(name)) {\n      fieldErrors[name] = value.length > 0 ? '' : 'Please choose a valid ' + name;\n      this.setState({\n        errors: fieldErrors,\n        [`${name}Valid`]: value.length > 0 ? true : false\n      }, this.validateForm);\n    }\n  }\n\n  validateForm() {\n    this.setState({\n      submissionValid: this.state.ingredientValid && this.state.amountValid && this.state.unitValid\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.setState({\n      showResult: true\n    });\n  }\n\n  render() {\n    const unitList = unitData.map(unit => /*#__PURE__*/React.createElement(\"option\", {\n      key: unit.index,\n      value: unit.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 4\n      }\n    }, unit.name));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(NavigationBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 3\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"Form\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"textcontainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 5\n      }\n    }, \"Search for your ingredient\")), /*#__PURE__*/React.createElement(Autocompleteself, {\n      sendData: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"textcontainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 5\n      }\n    }, \"Enter the quantity:\")), /*#__PURE__*/React.createElement(StyledText, {\n      error: this.state.errors.amount,\n      name: \"amount\",\n      helperText: this.state.errors.amount,\n      value: this.state.amount,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(StyledDrop, {\n      name: \"unit\",\n      disableUnderline: true,\n      value: this.state.unit,\n      onChange: this.handleChange,\n      helperText: this.state.errors.unit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 5\n      }\n    }, unitList), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(StyledBtn, {\n      disabled: !this.state.submissionValid,\n      type: \"Submit\",\n      onClick: this.handleClick,\n      className: \"Submit\",\n      style: {\n        outline: 'None'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 5\n      }\n    }, \"Find substitution!\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 3\n      }\n    }, this.state.showResult && /*#__PURE__*/React.createElement(Results, {\n      ingredient: this.state.ingredient,\n      amount: this.state.amount,\n      unit: this.state.unit,\n      showResult: this.state.showResult,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(StyledSnackBar, {\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'left'\n      },\n      open: this.state.userIngredients && this.state.userIngredients.length === 0,\n      TransitionComponent: 'TransitionUp',\n      key: 'bottom' + 'left',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(SnackbarContent, {\n      message: \"Add items using the pantry to see customized substitutions!\",\n      style: {\n        backgroundColor: \"gray\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 4\n      }\n    }))), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 4\n      }\n    }));\n  }\n\n}\n\nexport default Main;","map":{"version":3,"sources":["/mnt/c/Users/Lucy/Documents/projects/bakingsubsv2/subsfrontend/src/Main.js"],"names":["React","Component","unitData","Autocompleteself","Results","Select","Button","TextField","withStyles","withTheme","NavigationBar","Footer","Snackbar","SnackbarContent","StyledText","root","color","borderBottomColor","borderColor","backgroundColor","padding","width","StyledDrop","marginLeft","height","StyledBtn","StyledSnackBar","Main","constructor","state","ingredient","input","amount","unit","showResult","errors","ingredientValid","amountValid","unitValid","submissionValid","userIngredients","JSON","parse","localStorage","getItem","empty","handleChange","bind","handleSubmit","componentDidUpdate","prevProps","prevState","setState","event","name","value","target","validateFields","fieldErrors","formFields","Object","keys","includes","length","validateForm","preventDefault","render","unitList","map","index","handleClick","outline","vertical","horizontal"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./styles.css\";\r\nimport unitData from \"./units\";\r\nimport Autocompleteself from \"./Autocomplete.js\";\r\nimport Results from \"./Results.js\"\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { withStyles, withTheme } from \"@material-ui/core\";\r\nimport NavigationBar from \"./NavigationBar.js\"\r\nimport Footer from \"./Footer.js\"\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport { SnackbarContent } from '@material-ui/core';\r\n\r\nconst StyledText = withStyles({\r\n  root: {\r\n\t'& label.Mui-focused': {\r\n\t  color: 'gray',\r\n\t},\r\n\t'& .MuiInput-underline:after': {\r\n\t  borderBottomColor: '#D9D9D9',\r\n\t},\r\n\t'& .MuiOutlinedInput-root': {\r\n\t  '& fieldset': {\r\n\t\tborderColor: 'white',\r\n\t  },\r\n\t  '&:hover fieldset': {\r\n\t\tborderColor: 'white',\r\n\t  },\r\n\t  '&.Mui-focused fieldset': {\r\n\t\tborderColor: '#D9D9D9',\r\n\t  },\r\n\t},\r\n\tbackgroundColor: 'white',\r\n\tpadding: ' 10px',\r\n\twidth: '4%'\r\n  },\r\n})(TextField);\r\n\r\nconst StyledDrop = withStyles({\r\n  root:{\r\n\tbackgroundColor: 'white',\r\n\tmarginLeft: '5px',\r\n\t'&.MuiSelect-select:focus': {\r\n\t  backgroundColor: 'white',\r\n\t  height: '20px'\r\n\t},\r\n\theight: '20px'\r\n  }\r\n}\r\n)(Select);\r\n\r\nconst StyledBtn = withStyles({\r\n\troot: {\r\n\t\t'& label.Mui-focused': {\r\n\t\t  color: 'gray',\r\n\t\t},\r\n\t\t'& .MuiInput-underline:after': {\r\n\t\t  borderBottomColor: '#D9D9D9',\r\n\t\t},\r\n\t\t'& .MuiOutlinedInput-root': {\r\n\t\t  '& fieldset': {\r\n\t\t\tborderColor: 'white',\r\n\t\t  },\r\n\t\t  '&:hover fieldset': {\r\n\t\t\tborderColor: 'white',\r\n\t\t  },\r\n\t\t  '&.Mui-focused fieldset': {\r\n\t\t\tborderColor: '#D9D9D9',\r\n\t\t  },\r\n\t\t}\r\n\t}\r\n})(Button);\r\n\r\nconst StyledSnackBar = withStyles({\r\n\troot:{\r\n\t\t'& .MuiPaper' :{\r\n\t\t\tbackgroundColor: 'gray'\r\n\t\t}\r\n\t\t\r\n\t}\r\n})(Snackbar);\r\n\r\nclass Main extends Component {\r\n  constructor() {\r\n\tsuper();\r\n\tthis.state = {\r\n\t  ingredient: \"\",\r\n\t  input: \"\",\r\n\t  amount: \"\",\r\n\t  unit: \"\",\r\n\t  showResult: false,\r\n\t  errors: {ingredient: \"\", amount:\"\", unit: \"\"},\r\n\t  ingredientValid: null,\r\n\t  amountValid: null,\r\n\t  unitValid: null,\r\n\t  submissionValid: false,\r\n\t  userIngredients: JSON.parse(localStorage.getItem('userPantry')),\r\n\t  empty: true\r\n\t};\r\n\tthis.handleChange = this.handleChange.bind(this);\r\n\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState){\r\n\tif (this.state.ingredient !== prevState.ingredient){\r\n\t  this.setState({\r\n\t\tshowResult: false, \r\n\t\tamount: \"\",\r\n\t\tunit: \"\",\r\n\t  })\r\n\t}\r\n  }\r\n\r\n  handleChange(event) {\r\n\tconst { name, value } = event.target ? event.target : event;\r\n\tthis.setState(\r\n\t  {[name]: value},\r\n\t  () => {this.validateFields(name, value)})\r\n\t}\r\n\t\r\n  validateFields(name, value) {\r\n\tlet fieldErrors = this.state.errors\r\n\tconst formFields = Object.keys(this.state.errors)\r\n\tif (formFields.includes(name)) {\r\n\t  fieldErrors[name]= value.length > 0 ? '': 'Please choose a valid ' + name\r\n\t  this.setState({\r\n\t\terrors: fieldErrors,\r\n\t\t[`${name}Valid`]: (value.length > 0 ? true: false)\r\n\t  }, this.validateForm)\r\n  } \r\n  }\r\n\r\n  validateForm(){\r\n\tthis.setState({\r\n\t  submissionValid: this.state.ingredientValid && this.state.amountValid && this.state.unitValid\r\n\t})\r\n  }\r\n\r\n  handleSubmit(event) {\r\n\tevent.preventDefault()\r\n\tthis.setState({\r\n\t  showResult: true\r\n\t})\r\n  }\r\n\r\n  render() {\r\n\tconst unitList = unitData.map(unit => (\r\n\t  <option key={unit.index} value={unit.name}>\r\n\t\t{unit.name}\r\n\t  </option>\r\n\t));\r\n\treturn (\r\n\t  <div className=\"App\">\r\n\t\t<NavigationBar/>\r\n\t\t<form className=\"Form\" onSubmit={this.handleSubmit}>\r\n\t\t  {/* ingredient search */}\r\n\t\t  <div className=\"textcontainer\">\r\n\t\t  <p>Search for your ingredient</p>\r\n\t\t  </div>\r\n\t\t   <Autocompleteself \r\n\t\t\tsendData={this.handleChange}\r\n\t\t  /> \r\n\t\t  \r\n\t\t  {/* quantity textbox */}\r\n\t\t  <div className=\"textcontainer\">\r\n\t\t  <p>Enter the quantity:</p>\r\n\t\t  </div>\r\n\t\t  <StyledText\r\n\t\t\terror = {this.state.errors.amount}\r\n\t\t\tname=\"amount\"\r\n\t\t\thelperText={this.state.errors.amount}\r\n\t\t\tvalue={this.state.amount}\r\n\t\t\tonChange={this.handleChange}\r\n\t\t  />\r\n\r\n\t\t  {/* units drop-down */}\r\n\t\t  <StyledDrop\r\n\t\t\tname=\"unit\"\r\n\t\t\tdisableUnderline\r\n\t\t\tvalue={this.state.unit}\r\n\t\t\tonChange={this.handleChange}\r\n\t\t\thelperText = {this.state.errors.unit}\r\n\t\t  >\r\n\t\t\t{unitList}\r\n\t\t\t\r\n\t\t  </StyledDrop>\r\n\r\n\t\t  {/*submit button */}\r\n\t\t  <br />\r\n\t\t  <StyledBtn disabled = {!this.state.submissionValid} \r\n\t\t\ttype=\"Submit\" onClick={this.handleClick} \r\n\t\t\tclassName=\"Submit\"\r\n\t\t\tstyle={{outline: 'None'}}>\r\n\t\t\tFind substitution!\r\n\t\t  </StyledBtn>\r\n\t\t</form>\r\n\t\t\r\n\t\t<div>\r\n\t\t{this.state.showResult && <Results \r\n\t\t\tingredient={this.state.ingredient} \r\n\t\t\tamount={this.state.amount} \r\n\t\t\tunit={this.state.unit}\r\n\t\t\tshowResult={this.state.showResult}\r\n\t\t/>}\t\r\n\t\t\r\n\t\t</div>\r\n\t\t<div>\r\n\t\t<StyledSnackBar\r\n\t\t\tanchorOrigin={{vertical: 'bottom', horizontal: 'left'} }\r\n\t\t\topen={this.state.userIngredients && this.state.userIngredients.length === 0}\r\n\t\t\tTransitionComponent={'TransitionUp'}\r\n\t\t\tkey = {'bottom' + 'left'}\r\n\t\t>\r\n\t\t\t<SnackbarContent \r\n\t\t\t\tmessage=\"Add items using the pantry to see customized substitutions!\"\r\n\t\t\t\tstyle={{backgroundColor: \"gray\"}}\r\n\t\t\t/>\r\n\t\t</StyledSnackBar>\r\n\t\t\t\r\n\t\t\r\n\t\t</div>\r\n\t  <Footer />\r\n\r\n\t</div>\r\n\r\n\t);\r\n  }\r\n}\r\nexport default Main;\r\n"]},"metadata":{},"sourceType":"module"}