{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/Lucy/Documents/projects/bakingsubsv2/subsfrontend/src/Results.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n/* eslint-disable */\n\n/* Displays the substitution results at the bottom of the main page */\n\nclass Results extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      result: [],\n      subslist: []\n    };\n  }\n\n  async componentDidMount() {\n    await axios.get(encodeURI(\"http://127.0.0.1:8000/api/subs/?format=json&subname=\".concat(this.props.ingredient.toString()))).then(response => {\n      var result = response.data;\n      this.setState({\n        result: result\n      });\n    }, error => {\n      {\n        alert(error);\n      }\n      ;\n    });\n  }\n\n  async componentDidUpdate() {\n    if (this.state.result[0].subname !== this.props.ingredient) {\n      await axios.get(encodeURI(\"http://127.0.0.1:8000/api/subs/?format=json&subname=\".concat(this.props.ingredient.toString()))).then(response => {\n        var result = response.data;\n        this.setState({\n          result: result\n        });\n      }, error => {\n        {\n          alert(error);\n        }\n        ;\n      });\n    }\n  }\n\n  render() {\n    if (this.state.result.length > 0) {\n      var substlist = this.state.result[0].subslist;\n    }\n\n    return this.state.result.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"List\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(List, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 5\n      }\n    }, Object.entries(substlist).map((t, k) => /*#__PURE__*/React.createElement(ListItem, {\n      className: \"ListItem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(ListItemText, {\n      primary: t[0],\n      secondary: (t[1] * this.props.amount).toFixed(2) + \" \" + this.props.unit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }\n    }))))) : /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 24\n      }\n    }, \"Loading results...\");\n  }\n\n}\n\nexport default Results;","map":{"version":3,"sources":["/mnt/c/Users/Lucy/Documents/projects/bakingsubsv2/subsfrontend/src/Results.js"],"names":["React","Component","axios","List","ListItem","ListItemText","Results","constructor","props","state","result","subslist","componentDidMount","get","encodeURI","concat","ingredient","toString","then","response","data","setState","error","alert","componentDidUpdate","subname","render","length","substlist","Object","entries","map","t","k","amount","toFixed","unit"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA;;AAGA;;AAGA,MAAMC,OAAN,SAAsBL,SAAtB,CAAgC;AAC5BM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACrB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACZC,MAAAA,MAAM,EAAE,EADI;AAEZC,MAAAA,QAAQ,EAAE;AAFE,KAAb;AAIA;;AAGD,QAAMC,iBAAN,GAA0B;AACzB,UAAMV,KAAK,CAACW,GAAN,CAAUC,SAAS,CAAC,uDACzBC,MADyB,CACjB,KAAKP,KAAL,CAAWQ,UAAZ,CAAwBC,QAAxB,EADkB,CAAD,CAAnB,EAEFC,IAFE,CAGAC,QAAQ,IAAI;AACjB,UAAIT,MAAM,GAAGS,QAAQ,CAACC,IAAtB;AACA,WAAKC,QAAL,CAAc;AAAEX,QAAAA,MAAM,EAAEA;AAAV,OAAd;AACU,KANL,EAOKY,KAAD,IAAW;AACX;AAACC,QAAAA,KAAK,CAACD,KAAD,CAAL;AAAa;AAAA;AACb,KATL,CAAN;AAWC;;AAEF,QAAME,kBAAN,GAA2B;AAC1B,QAAI,KAAKf,KAAL,CAAWC,MAAX,CAAkB,CAAlB,EAAqBe,OAArB,KAAiC,KAAKjB,KAAL,CAAWQ,UAAhD,EAA4D;AAC5D,YAAMd,KAAK,CAACW,GAAN,CAAUC,SAAS,CAAC,uDACzBC,MADyB,CACjB,KAAKP,KAAL,CAAWQ,UAAZ,CAAwBC,QAAxB,EADkB,CAAD,CAAnB,EAEFC,IAFE,CAGAC,QAAQ,IAAI;AACjB,YAAIT,MAAM,GAAGS,QAAQ,CAACC,IAAtB;AACA,aAAKC,QAAL,CAAc;AAAEX,UAAAA,MAAM,EAAEA;AAAV,SAAd;AACU,OANL,EAOKY,KAAD,IAAW;AACX;AAACC,UAAAA,KAAK,CAACD,KAAD,CAAL;AAAa;AAAA;AACb,OATL,CAAN;AAWC;AACD;;AAEDI,EAAAA,MAAM,GAAG;AACR,QAAI,KAAKjB,KAAL,CAAWC,MAAX,CAAkBiB,MAAlB,GAA2B,CAA/B,EAAkC;AACjC,UAAIC,SAAS,GAAG,KAAKnB,KAAL,CAAWC,MAAX,CAAkB,CAAlB,EAAqBC,QAArC;AAA8C;;AAE/C,WACC,KAAKF,KAAL,CAAWC,MAAX,CAAkBiB,MAAlB,GAA2B,CAA3B,gBACA;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACEE,MAAM,CAACC,OAAP,CAAeF,SAAf,EAA0BG,GAA1B,CAA8B,CAACC,CAAD,EAAIC,CAAJ,kBAC/B,oBAAC,QAAD;AAAU,MAAA,SAAS,EAAC,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,YAAD;AACC,MAAA,OAAO,EAAED,CAAC,CAAC,CAAD,CADX;AAEC,MAAA,SAAS,EAAE,CAACA,CAAC,CAAC,CAAD,CAAD,GAAO,KAAKxB,KAAL,CAAW0B,MAAnB,EAA2BC,OAA3B,CAAmC,CAAnC,IAAwC,GAAxC,GAA8C,KAAK3B,KAAL,CAAW4B,IAFrE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADC,CADF,CADD,CADA,gBAUoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAXrB;AAaG;;AAzD2B;;AA4DhC,eAAe9B,OAAf","sourcesContent":["import React, {Component} from \"react\";\r\nimport axios from \"axios\";\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n/* eslint-disable */\r\n\r\n\r\n/* Displays the substitution results at the bottom of the main page */\r\n\r\n\r\nclass Results extends Component {\r\n    constructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tresult: [],\r\n\t\t\tsubslist: []\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\tasync componentDidMount() {\r\n\t\tawait axios.get(encodeURI(\"http://127.0.0.1:8000/api/subs/?format=json&subname=\"\r\n\t\t.concat((this.props.ingredient).toString())\r\n\t\t\t)).then( \r\n        response => { \r\n\t\t\tvar result = response.data; \r\n\t\t\tthis.setState({ result: result })\r\n            }, \r\n            (error) => { \r\n            {alert(error)}; \r\n            } \r\n\t\t)\r\n\t\t} \r\n\t\r\n\tasync componentDidUpdate() {\r\n\t\tif (this.state.result[0].subname !== this.props.ingredient ){\r\n\t\tawait axios.get(encodeURI(\"http://127.0.0.1:8000/api/subs/?format=json&subname=\"\r\n\t\t.concat((this.props.ingredient).toString())\r\n\t\t\t)).then( \r\n        response => { \r\n\t\t\tvar result = response.data; \r\n\t\t\tthis.setState({ result: result })\r\n            }, \r\n            (error) => { \r\n            {alert(error)}; \r\n            } \r\n\t\t)\r\n\t\t} \r\n\t}\t\t\r\n\r\n\trender() {\r\n\t\tif (this.state.result.length > 0) {\r\n\t\t\tvar substlist = this.state.result[0].subslist}\r\n\t\t\t\r\n\t\treturn(\r\n\t\t\tthis.state.result.length > 0 ? (\r\n\t\t\t<div className=\"List\">\r\n\t\t\t\t<List>\r\n\t\t\t\t\t{Object.entries(substlist).map((t, k) => (\r\n\t\t\t\t\t<ListItem className=\"ListItem\">\r\n\t\t\t\t\t\t<ListItemText \r\n\t\t\t\t\t\t\tprimary={t[0]} \r\n\t\t\t\t\t\t\tsecondary={(t[1] * this.props.amount).toFixed(2) + \" \" + this.props.unit }/>\r\n\t\t\t\t\t</ListItem>))}\r\n\t\t\t\t</List>\t \r\n            </div>) : (<span>Loading results...</span>)\r\n        )\r\n    }\r\n}\r\n\r\nexport default Results"]},"metadata":{},"sourceType":"module"}